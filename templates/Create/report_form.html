{% extends 'base.html' %}

{% block headBlock %}
    <link href="path/to/css/dependent-dropdown.min.css" media="all" rel="stylesheet" type="text/css" />
    <script type="text/javascript" charset="utf-8">
            function FilterSites() {
                var makeslist = document.getElementById('makes');
                var modelslist = document.getElementById('models');
                var make_id = makeslist.options[makeslist.selectedIndex].value;
                var firmSites = new Array();
                var firmPermits = newArray();
                {% for firm in getFirms %}
                    firmSites[{{ forloop.counter0 }}] = "{{
                    {% for site in firm.zone_set().all() %}
                        {{ site.id }}
                    {% endfor %}
                    }}"
                    {
                {% endfor %}
                modelstxt[1] = "1\tEscort\n2\tTaurus";
                modelstxt[2] = "1\tAltima\n2\tMaxima";
                var models = modelstxt[make_id].split("\n");
                for (var count = modelslist.options.length-1; count >-1; count--){
                    modelslist.options[count] = null;
                }
                for (i=0; i<models.length; i++){
                    var modelvals = models[i].split("\t");
                    var option = new Option(modelvals[1], modelvals[2], false, false);
                    modelslist.options[modelslist.length] = option;
                }
            }
        </script>
{% endblock %}

{% block mainContent %}

    <div class="panel-heading">
        <h4><b>Create Report</b></h4>
    </div>
    <form action="" method="get">
        <div class="panel">
            <div class="text-center">
                <h4>Firm</h4>
            </div>
            <div>
                <input list="firms" name="firms" id="firmList"
                       class="form-control center-block"
                       type="text"
                       placeholder="Firm Name"
                       style="  width:250px;
                                margin-top:10px;
                                margin-bottom:15px"
                >
                    <datalist id="firms">
                        {% for firm in view.getFirms %}
                            <option value="{{ firm}}">
                        {% endfor %}
                    </datalist>
            </div>
        </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-4">
                <div class="text-center">
                    <h4>Pesticide</h4>
                </div>
                <div>
                    <input list="pesticides" name="pesticides" id="pesticideList"
                       class="form-control"
                       type="text"
                       placeholder="Pesticide Name"
                       style="  width:250px"
                    >
                    <datalist id="pesticides">
                        {% for pesticide in view.getPesticides %}
                            <option value="{{ pesticide }}">
                        {% endfor %}
                    </datalist>
                </div>
            </div>
            <div class="col-md-4">
                <div class="text-center">
                    <h4>Permit</h4>
                </div>
                <div>
                <input list="permits" name="permits" id="permitList"
                   class="form-control center-block"
                   type="text"
                   placeholder="Permit #"
                   style="  width:250px;"
                >
                </div>
                <datalist id="permits">
                    {% for permit in view.getPermits %}
                        <option value="{{ permit}}">
                    {% endfor %}
                </datalist>
            </div>
            <div class="col-md-4">
                <div class="text-center">
                    <h4>Site</h4>
                </div>
                <div>
                    <input list="sites" name="sites" id="siteList"
                       class="form-control pull-right"
                       type="text"
                       placeholder="Site ID#"
                       style="  width:250px;"
                    >
                    <datalist id="sites">
                        {% for site in view.getSites %}
                            <option value="{{site}}">
                        {% endfor %}
                    </datalist>
                </div>
            </div>
        </div>

        <div class="panel panel-info" style="margin-top: 30px">
            <div class="panel-heading">
                <h4 class="panel-title">Application</h4>
            </div>
            <div class="panel-body">
                <div class="col-md-4">
                    <h4>Date/Time</h4>
                    <div><input type="date" class="form-control"></div>
                    <div><input type="time" class="form-control"></div>
                </div>
                <div class="col-md-4">
                    <h4>Total Product Used</h4>
                    <div>
                        <input class="form-control" type="number">
                        <input class="form-control" type="text" list="units" name="units">
                            <datalist id="units">
                                <option>lbs</option>
                                <option>oz</option>
                                <option>pt</option>
                                <option>ga</option>
                            </datalist>
                    </div>
                </div>
                <div class="col-md-4">
                    <h4>Number of Applications</h4>
                    <div><input class="form-control" type="number"></div>
                </div>
            </div>
        </div>
    </div>


    <div class="panel-footer">
        <a href="#" class="btn btn-lg btn-primary">Create Report <span class="glyphicon glyphicon-plus-sign"></span> </a>
    </div>
    </form>

{% endblock %}